# 玉衡杯公式大全 - 月绽放数据提取

**来源**: `.research_info/equations.png` (玉衡杯数据库 yuhengcup.wiki 6.3v4)  
**提取日期**: 2026-02-12

---

## 1. 剧变反应通用公式

```
剧变基础 = 1446.85 × 反应倍率 × (1 + 16×元素精通/(元素精通+2000) + 反应增伤%)

剧变伤害 = (剧变基础 + 额外提升) × 抗性系数
```

**等级系数** (90级): **1446.85**

---

## 2. 反应倍率 (已确认)

| 反应类型 | 倍率 | 备注 |
|----------|------|------|
| **绽放** (Bloom) | **2.0** | 基础草原核 |
| **超绽放** (Hyperbloom) | **3.0** | 雷触发 |
| **烈绽放** (Burgeon) | **3.0** | 火触发 |
| **月绽放** (Lunar Bloom) | **3.0** | 月兆角色触发 |

**关键发现**: 月绽放倍率 = **3.0** (与超绽放/烈绽放相同，不是2.0!)

这与 GA 当前代码 `lunar_bloom_multiplier() = 3.0` **一致**！

---

## 3. 月绽放特殊机制

### 3.1 直伤月绽放 (Lauma特有)

**特性**:
- ✅ 无视防御
- ❌ 不受常规增伤/减伤
- ✅ 受益于元素精通

**公式**:
```
直伤月绽放 = 属性 × 倍率 × (1 + 基础提升%) 
            × (6×元素精通/(元素精通+2000) + 月绽放增伤%)
            × 抗性系数 × 暴击区 × 提升
```

**注释**: "草原核的伤害不算月绽放，月绽放伤害计算与剧变一致"

### 3.2 草原核伤害 (普通月绽放)

```
草原核基础 = 1446.85 × 反应倍率 × (1 + 16×元素精通/(元素精通+2000) + 反应增伤%)

草原核伤害 = (草原核基础 + 额外提升) × 抗性系数
```

**额外提升**: 菈乌玛元素爆发 (不受基于精通增伤、反应增伤)

---

## 4. 关键数值汇总

| 数值 | 值 | 用途 |
|------|-----|------|
| **90级等级系数** | **1446.85** | 剧变反应基础 |
| **月绽放倍率** | **3.0** | 反应倍率 |
| **精通加成公式** | `16×EM/(EM+2000)` | 剧变反应精通加成 |
| **绽放基础倍率** | 2.0 | 对比参考 |
| **超/烈/月绽放倍率** | 3.0 | 对比参考 |

---

## 5. 与修复计划的关系

### 5.1 倍率确认

原计划假设月绽放倍率 = 2.0 (同绽放)，但实际是 **3.0**！

**修正**:
```rust
// 原计划 (错误)
let reaction_multiplier = 2.0;

// 正确
let reaction_multiplier = 3.0; // 同超绽放/烈绽放
```

### 5.2 等级系数确认

```rust
// 90级等级系数
const LEVEL_MULTIPLIER: [f64; 90] = [
    // ... 
    1446.85, // 90级 (索引89)
    // ...
];
```

### 5.3 公式确认

```rust
// 月绽放基础伤害 (普通触发)
let lb_base = 1446.85 * 3.0 * (1.0 + 16.0*em/(em+2000.0) + lunar_bonus);

// 直伤月绽放 (Lauma特有)
// 使用精通×倍率，不基于等级系数
```

---

## 6. 与 AnimeGameData 数据对比

| 数据项 | AnimeGameData | 玉衡杯 | 状态 |
|--------|---------------|--------|------|
| 月绽放倍率 | 未明确找到 | **3.0** | ✅ 确认 |
| 90级等级系数 | 未明确找到 | **1446.85** | ✅ 确认 |
| A3 精通转化率 | 0.0175% | - | ✅ 以AGD为准 |
| C6 额外伤害 | 精通×185% | - | ✅ 以AGD为准 |

---

## 7. 结论

1. **月绽放倍率 = 3.0** (不是2.0)，与超绽放/烈绽放相同
2. **90级等级系数 = 1446.85**
3. GA当前代码 `lunar_bloom_multiplier() = 3.0` 是**正确的**
4. 修复计划中反应倍率需要修正为3.0

---

**下一步**: 更新修复计划中的倍率数值 (2.0 → 3.0)
