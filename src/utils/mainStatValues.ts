/**
 * Main Stat Value Lookup Table
 * 
 * Pre-computed main stat values for artifacts indexed by [statName][star][level].
 * Source: AnimeGameData ReliquaryLevelExcelConfigData.json
 * 
 * Stars: 3, 4, 5
 * Levels: 0 to star×4 (3-star: 0-12, 4-star: 0-16, 5-star: 0-20)
 */

import type { ArtifactMainStatName } from "@/types/artifact"

type MainStatTable = Record<string, Record<number, Record<number, number>>>

/**
 * Pre-computed main stat values indexed by [statName][star][level].
 */
const mainStatTable: MainStatTable = {
    // HP flat (flower only)
    lifeStatic: {
        3: {
            0: 430, 1: 552, 2: 674, 3: 796, 4: 918, 5: 1040, 6: 1162, 7: 1283,
            8: 1405, 9: 1527, 10: 1649, 11: 1771, 12: 1893
        },
        4: {
            0: 645, 1: 828, 2: 1011, 3: 1194, 4: 1377, 5: 1559, 6: 1742, 7: 1925,
            8: 2108, 9: 2291, 10: 2474, 11: 2657, 12: 2839, 13: 3022, 14: 3205,
            15: 3388, 16: 3571
        },
        5: {
            0: 717, 1: 920, 2: 1123, 3: 1326, 4: 1530, 5: 1733, 6: 1936, 7: 2139,
            8: 2342, 9: 2545, 10: 2749, 11: 2952, 12: 3155, 13: 3358, 14: 3561,
            15: 3764, 16: 3967, 17: 4171, 18: 4374, 19: 4577, 20: 4780
        }
    },
    // ATK flat (feather only)
    attackStatic: {
        3: {
            0: 28, 1: 36, 2: 44, 3: 52, 4: 60, 5: 68, 6: 76, 7: 84,
            8: 91, 9: 99, 10: 107, 11: 115, 12: 123
        },
        4: {
            0: 42, 1: 54, 2: 66, 3: 78, 4: 90, 5: 102, 6: 113, 7: 125,
            8: 137, 9: 149, 10: 161, 11: 173, 12: 185, 13: 197, 14: 209,
            15: 221, 16: 232
        },
        5: {
            0: 47, 1: 60, 2: 73, 3: 86, 4: 100, 5: 113, 6: 126, 7: 139,
            8: 152, 9: 166, 10: 179, 11: 192, 12: 205, 13: 219, 14: 232,
            15: 245, 16: 258, 17: 272, 18: 285, 19: 298, 20: 311
        }
    },
    // HP%
    lifePercentage: {
        3: {
            0: 0.052, 1: 0.067, 2: 0.082, 3: 0.097, 4: 0.112, 5: 0.127, 6: 0.142, 7: 0.156,
            8: 0.171, 9: 0.186, 10: 0.201, 11: 0.216, 12: 0.231
        },
        4: {
            0: 0.063, 1: 0.081, 2: 0.099, 3: 0.116, 4: 0.134, 5: 0.152, 6: 0.17, 7: 0.188,
            8: 0.206, 9: 0.223, 10: 0.241, 11: 0.259, 12: 0.277, 13: 0.295, 14: 0.313,
            15: 0.33, 16: 0.348
        },
        5: {
            0: 0.07, 1: 0.09, 2: 0.11, 3: 0.129, 4: 0.149, 5: 0.169, 6: 0.189, 7: 0.209,
            8: 0.228, 9: 0.248, 10: 0.268, 11: 0.288, 12: 0.308, 13: 0.328, 14: 0.347,
            15: 0.367, 16: 0.387, 17: 0.407, 18: 0.427, 19: 0.446, 20: 0.466
        }
    },
    // ATK%
    attackPercentage: {
        3: {
            0: 0.052, 1: 0.067, 2: 0.082, 3: 0.097, 4: 0.112, 5: 0.127, 6: 0.142, 7: 0.156,
            8: 0.171, 9: 0.186, 10: 0.201, 11: 0.216, 12: 0.231
        },
        4: {
            0: 0.063, 1: 0.081, 2: 0.099, 3: 0.116, 4: 0.134, 5: 0.152, 6: 0.17, 7: 0.188,
            8: 0.206, 9: 0.223, 10: 0.241, 11: 0.259, 12: 0.277, 13: 0.295, 14: 0.313,
            15: 0.33, 16: 0.348
        },
        5: {
            0: 0.07, 1: 0.09, 2: 0.11, 3: 0.129, 4: 0.149, 5: 0.169, 6: 0.189, 7: 0.209,
            8: 0.228, 9: 0.248, 10: 0.268, 11: 0.288, 12: 0.308, 13: 0.328, 14: 0.347,
            15: 0.367, 16: 0.387, 17: 0.407, 18: 0.427, 19: 0.446, 20: 0.466
        }
    },
    // DEF%
    defendPercentage: {
        3: {
            0: 0.066, 1: 0.084, 2: 0.103, 3: 0.121, 4: 0.14, 5: 0.158, 6: 0.177, 7: 0.196,
            8: 0.214, 9: 0.233, 10: 0.251, 11: 0.27, 12: 0.288
        },
        4: {
            0: 0.079, 1: 0.101, 2: 0.123, 3: 0.146, 4: 0.168, 5: 0.19, 6: 0.212, 7: 0.235,
            8: 0.257, 9: 0.279, 10: 0.302, 11: 0.324, 12: 0.346, 13: 0.368, 14: 0.391,
            15: 0.413, 16: 0.435
        },
        5: {
            0: 0.087, 1: 0.112, 2: 0.137, 3: 0.162, 4: 0.186, 5: 0.211, 6: 0.236, 7: 0.261,
            8: 0.286, 9: 0.31, 10: 0.335, 11: 0.36, 12: 0.385, 13: 0.409, 14: 0.434,
            15: 0.459, 16: 0.484, 17: 0.508, 18: 0.533, 19: 0.558, 20: 0.583
        }
    },
    // Elemental Mastery
    elementalMastery: {
        3: {
            0: 21, 1: 26.9, 2: 32.9, 3: 38.8, 4: 44.8, 5: 50.7, 6: 56.7, 7: 62.6,
            8: 68.5, 9: 74.5, 10: 80.4, 11: 86.4, 12: 92.3
        },
        4: {
            0: 25.2, 1: 32.3, 2: 39.4, 3: 46.6, 4: 53.7, 5: 60.8, 6: 68, 7: 75.1,
            8: 82.2, 9: 89.4, 10: 96.5, 11: 103.6, 12: 110.8, 13: 117.9, 14: 125,
            15: 132.2, 16: 139.3
        },
        5: {
            0: 28, 1: 35.9, 2: 43.8, 3: 51.8, 4: 59.7, 5: 67.6, 6: 75.5, 7: 83.5,
            8: 91.4, 9: 99.3, 10: 107.2, 11: 115.2, 12: 123.1, 13: 131, 14: 138.9,
            15: 146.9, 16: 154.8, 17: 162.7, 18: 170.6, 19: 178.6, 20: 186.5
        }
    },
    // Energy Recharge%
    recharge: {
        3: {
            0: 0.058, 1: 0.075, 2: 0.091, 3: 0.108, 4: 0.124, 5: 0.141, 6: 0.157, 7: 0.174,
            8: 0.19, 9: 0.207, 10: 0.223, 11: 0.24, 12: 0.256
        },
        4: {
            0: 0.07, 1: 0.09, 2: 0.11, 3: 0.129, 4: 0.149, 5: 0.169, 6: 0.189, 7: 0.209,
            8: 0.228, 9: 0.248, 10: 0.268, 11: 0.288, 12: 0.308, 13: 0.328, 14: 0.347,
            15: 0.367, 16: 0.387
        },
        5: {
            0: 0.078, 1: 0.1, 2: 0.122, 3: 0.144, 4: 0.166, 5: 0.188, 6: 0.21, 7: 0.232,
            8: 0.254, 9: 0.276, 10: 0.298, 11: 0.32, 12: 0.342, 13: 0.364, 14: 0.386,
            15: 0.408, 16: 0.43, 17: 0.452, 18: 0.474, 19: 0.496, 20: 0.518
        }
    },
    // Crit Rate%
    critical: {
        3: {
            0: 0.035, 1: 0.045, 2: 0.055, 3: 0.065, 4: 0.075, 5: 0.084, 6: 0.094, 7: 0.104,
            8: 0.114, 9: 0.124, 10: 0.134, 11: 0.144, 12: 0.154
        },
        4: {
            0: 0.042, 1: 0.054, 2: 0.066, 3: 0.078, 4: 0.09, 5: 0.101, 6: 0.113, 7: 0.125,
            8: 0.137, 9: 0.149, 10: 0.161, 11: 0.173, 12: 0.185, 13: 0.197, 14: 0.208,
            15: 0.22, 16: 0.232
        },
        5: {
            0: 0.047, 1: 0.06, 2: 0.073, 3: 0.086, 4: 0.099, 5: 0.113, 6: 0.126, 7: 0.139,
            8: 0.152, 9: 0.166, 10: 0.179, 11: 0.192, 12: 0.205, 13: 0.218, 14: 0.232,
            15: 0.245, 16: 0.258, 17: 0.271, 18: 0.284, 19: 0.298, 20: 0.311
        }
    },
    // Crit DMG%
    criticalDamage: {
        3: {
            0: 0.07, 1: 0.09, 2: 0.11, 3: 0.129, 4: 0.149, 5: 0.169, 6: 0.189, 7: 0.209,
            8: 0.228, 9: 0.248, 10: 0.268, 11: 0.288, 12: 0.308
        },
        4: {
            0: 0.084, 1: 0.108, 2: 0.131, 3: 0.155, 4: 0.179, 5: 0.203, 6: 0.227, 7: 0.25,
            8: 0.274, 9: 0.298, 10: 0.322, 11: 0.345, 12: 0.369, 13: 0.393, 14: 0.417,
            15: 0.441, 16: 0.464
        },
        5: {
            0: 0.093, 1: 0.12, 2: 0.146, 3: 0.173, 4: 0.199, 5: 0.225, 6: 0.252, 7: 0.278,
            8: 0.305, 9: 0.331, 10: 0.357, 11: 0.384, 12: 0.41, 13: 0.437, 14: 0.463,
            15: 0.49, 16: 0.516, 17: 0.542, 18: 0.569, 19: 0.595, 20: 0.622
        }
    },
    // Healing Bonus%
    cureEffect: {
        3: {
            0: 0.04, 1: 0.052, 2: 0.063, 3: 0.075, 4: 0.086, 5: 0.098, 6: 0.109, 7: 0.12,
            8: 0.132, 9: 0.143, 10: 0.155, 11: 0.166, 12: 0.178
        },
        4: {
            0: 0.048, 1: 0.062, 2: 0.076, 3: 0.09, 4: 0.103, 5: 0.117, 6: 0.131, 7: 0.144,
            8: 0.158, 9: 0.172, 10: 0.186, 11: 0.199, 12: 0.213, 13: 0.227, 14: 0.24,
            15: 0.254, 16: 0.268
        },
        5: {
            0: 0.054, 1: 0.069, 2: 0.084, 3: 0.1, 4: 0.115, 5: 0.13, 6: 0.145, 7: 0.161,
            8: 0.176, 9: 0.191, 10: 0.206, 11: 0.221, 12: 0.237, 13: 0.252, 14: 0.267,
            15: 0.282, 16: 0.298, 17: 0.313, 18: 0.328, 19: 0.343, 20: 0.359
        }
    },
    // Pyro DMG Bonus%
    fireBonus: {
        3: {
            0: 0.052, 1: 0.067, 2: 0.082, 3: 0.097, 4: 0.112, 5: 0.127, 6: 0.142, 7: 0.156,
            8: 0.171, 9: 0.186, 10: 0.201, 11: 0.216, 12: 0.231
        },
        4: {
            0: 0.063, 1: 0.081, 2: 0.099, 3: 0.116, 4: 0.134, 5: 0.152, 6: 0.17, 7: 0.188,
            8: 0.206, 9: 0.223, 10: 0.241, 11: 0.259, 12: 0.277, 13: 0.295, 14: 0.313,
            15: 0.33, 16: 0.348
        },
        5: {
            0: 0.07, 1: 0.09, 2: 0.11, 3: 0.129, 4: 0.149, 5: 0.169, 6: 0.189, 7: 0.209,
            8: 0.228, 9: 0.248, 10: 0.268, 11: 0.288, 12: 0.308, 13: 0.328, 14: 0.347,
            15: 0.367, 16: 0.387, 17: 0.407, 18: 0.427, 19: 0.446, 20: 0.466
        }
    },
    // Electro DMG Bonus%
    thunderBonus: {
        3: {
            0: 0.052, 1: 0.067, 2: 0.082, 3: 0.097, 4: 0.112, 5: 0.127, 6: 0.142, 7: 0.156,
            8: 0.171, 9: 0.186, 10: 0.201, 11: 0.216, 12: 0.231
        },
        4: {
            0: 0.063, 1: 0.081, 2: 0.099, 3: 0.116, 4: 0.134, 5: 0.152, 6: 0.17, 7: 0.188,
            8: 0.206, 9: 0.223, 10: 0.241, 11: 0.259, 12: 0.277, 13: 0.295, 14: 0.313,
            15: 0.33, 16: 0.348
        },
        5: {
            0: 0.07, 1: 0.09, 2: 0.11, 3: 0.129, 4: 0.149, 5: 0.169, 6: 0.189, 7: 0.209,
            8: 0.228, 9: 0.248, 10: 0.268, 11: 0.288, 12: 0.308, 13: 0.328, 14: 0.347,
            15: 0.367, 16: 0.387, 17: 0.407, 18: 0.427, 19: 0.446, 20: 0.466
        }
    },
    // Hydro DMG Bonus%
    waterBonus: {
        3: {
            0: 0.052, 1: 0.067, 2: 0.082, 3: 0.097, 4: 0.112, 5: 0.127, 6: 0.142, 7: 0.156,
            8: 0.171, 9: 0.186, 10: 0.201, 11: 0.216, 12: 0.231
        },
        4: {
            0: 0.063, 1: 0.081, 2: 0.099, 3: 0.116, 4: 0.134, 5: 0.152, 6: 0.17, 7: 0.188,
            8: 0.206, 9: 0.223, 10: 0.241, 11: 0.259, 12: 0.277, 13: 0.295, 14: 0.313,
            15: 0.33, 16: 0.348
        },
        5: {
            0: 0.07, 1: 0.09, 2: 0.11, 3: 0.129, 4: 0.149, 5: 0.169, 6: 0.189, 7: 0.209,
            8: 0.228, 9: 0.248, 10: 0.268, 11: 0.288, 12: 0.308, 13: 0.328, 14: 0.347,
            15: 0.367, 16: 0.387, 17: 0.407, 18: 0.427, 19: 0.446, 20: 0.466
        }
    },
    // Cryo DMG Bonus%
    iceBonus: {
        3: {
            0: 0.052, 1: 0.067, 2: 0.082, 3: 0.097, 4: 0.112, 5: 0.127, 6: 0.142, 7: 0.156,
            8: 0.171, 9: 0.186, 10: 0.201, 11: 0.216, 12: 0.231
        },
        4: {
            0: 0.063, 1: 0.081, 2: 0.099, 3: 0.116, 4: 0.134, 5: 0.152, 6: 0.17, 7: 0.188,
            8: 0.206, 9: 0.223, 10: 0.241, 11: 0.259, 12: 0.277, 13: 0.295, 14: 0.313,
            15: 0.33, 16: 0.348
        },
        5: {
            0: 0.07, 1: 0.09, 2: 0.11, 3: 0.129, 4: 0.149, 5: 0.169, 6: 0.189, 7: 0.209,
            8: 0.228, 9: 0.248, 10: 0.268, 11: 0.288, 12: 0.308, 13: 0.328, 14: 0.347,
            15: 0.367, 16: 0.387, 17: 0.407, 18: 0.427, 19: 0.446, 20: 0.466
        }
    },
    // Anemo DMG Bonus%
    windBonus: {
        3: {
            0: 0.052, 1: 0.067, 2: 0.082, 3: 0.097, 4: 0.112, 5: 0.127, 6: 0.142, 7: 0.156,
            8: 0.171, 9: 0.186, 10: 0.201, 11: 0.216, 12: 0.231
        },
        4: {
            0: 0.063, 1: 0.081, 2: 0.099, 3: 0.116, 4: 0.134, 5: 0.152, 6: 0.17, 7: 0.188,
            8: 0.206, 9: 0.223, 10: 0.241, 11: 0.259, 12: 0.277, 13: 0.295, 14: 0.313,
            15: 0.33, 16: 0.348
        },
        5: {
            0: 0.07, 1: 0.09, 2: 0.11, 3: 0.129, 4: 0.149, 5: 0.169, 6: 0.189, 7: 0.209,
            8: 0.228, 9: 0.248, 10: 0.268, 11: 0.288, 12: 0.308, 13: 0.328, 14: 0.347,
            15: 0.367, 16: 0.387, 17: 0.407, 18: 0.427, 19: 0.446, 20: 0.466
        }
    },
    // Geo DMG Bonus%
    rockBonus: {
        3: {
            0: 0.052, 1: 0.067, 2: 0.082, 3: 0.097, 4: 0.112, 5: 0.127, 6: 0.142, 7: 0.156,
            8: 0.171, 9: 0.186, 10: 0.201, 11: 0.216, 12: 0.231
        },
        4: {
            0: 0.063, 1: 0.081, 2: 0.099, 3: 0.116, 4: 0.134, 5: 0.152, 6: 0.17, 7: 0.188,
            8: 0.206, 9: 0.223, 10: 0.241, 11: 0.259, 12: 0.277, 13: 0.295, 14: 0.313,
            15: 0.33, 16: 0.348
        },
        5: {
            0: 0.07, 1: 0.09, 2: 0.11, 3: 0.129, 4: 0.149, 5: 0.169, 6: 0.189, 7: 0.209,
            8: 0.228, 9: 0.248, 10: 0.268, 11: 0.288, 12: 0.308, 13: 0.328, 14: 0.347,
            15: 0.367, 16: 0.387, 17: 0.407, 18: 0.427, 19: 0.446, 20: 0.466
        }
    },
    // Dendro DMG Bonus%
    dendroBonus: {
        3: {
            0: 0.052, 1: 0.067, 2: 0.082, 3: 0.097, 4: 0.112, 5: 0.127, 6: 0.142, 7: 0.156,
            8: 0.171, 9: 0.186, 10: 0.201, 11: 0.216, 12: 0.231
        },
        4: {
            0: 0.063, 1: 0.081, 2: 0.099, 3: 0.116, 4: 0.134, 5: 0.152, 6: 0.17, 7: 0.188,
            8: 0.206, 9: 0.223, 10: 0.241, 11: 0.259, 12: 0.277, 13: 0.295, 14: 0.313,
            15: 0.33, 16: 0.348
        },
        5: {
            0: 0.07, 1: 0.09, 2: 0.11, 3: 0.129, 4: 0.149, 5: 0.169, 6: 0.189, 7: 0.209,
            8: 0.228, 9: 0.248, 10: 0.268, 11: 0.288, 12: 0.308, 13: 0.328, 14: 0.347,
            15: 0.367, 16: 0.387, 17: 0.407, 18: 0.427, 19: 0.446, 20: 0.466
        }
    },
    // Physical DMG Bonus%
    physicalBonus: {
        3: {
            0: 0.066, 1: 0.084, 2: 0.103, 3: 0.121, 4: 0.14, 5: 0.158, 6: 0.177, 7: 0.196,
            8: 0.214, 9: 0.233, 10: 0.251, 11: 0.27, 12: 0.288
        },
        4: {
            0: 0.079, 1: 0.101, 2: 0.123, 3: 0.146, 4: 0.168, 5: 0.19, 6: 0.212, 7: 0.235,
            8: 0.257, 9: 0.279, 10: 0.302, 11: 0.324, 12: 0.346, 13: 0.368, 14: 0.391,
            15: 0.413, 16: 0.435
        },
        5: {
            0: 0.087, 1: 0.112, 2: 0.137, 3: 0.162, 4: 0.186, 5: 0.211, 6: 0.236, 7: 0.261,
            8: 0.286, 9: 0.31, 10: 0.335, 11: 0.36, 12: 0.385, 13: 0.409, 14: 0.434,
            15: 0.459, 16: 0.484, 17: 0.508, 18: 0.533, 19: 0.558, 20: 0.583
        }
    }
}

/**
 * Get the main stat value for a given stat, rarity, and level.
 * 
 * @param statName - The mona internal stat name (e.g., "lifeStatic", "critical")
 * @param star - The artifact rarity (3, 4, or 5)
 * @param level - The artifact level (0 to star×4)
 * @returns The main stat value, or 0 if not found
 */
export function getMainStatValue(
    statName: ArtifactMainStatName,
    star: number,
    level: number
): number {
    return mainStatTable[statName]?.[star]?.[level] ?? 0
}
